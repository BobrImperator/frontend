<td colspan="1" class="link" {{action toggleExpand objective.id}} data-test-toggle-expand>
  {{#if expanded}}
    <FaIcon @icon="caret-down" />
  {{else}}
    <FaIcon @icon="caret-right" />
  {{/if}}
</td>
<td id="objective-{{objective.id}}" class="text-left text-top" colspan="12">
  {{#if editable}}
    <EditableField
      @value={{title}}
      @renderHtml={{true}}
      @isSaveDisabled={{and
        (v-get this "title" "isInvalid")
        (contains "title" showErrorsFor)
      }}
      @save={{action "saveTitleChanges"}}
      @close={{action "revertTitleChanges"}}
    >
      <HtmlEditor @content={{title}} @update={{action "changeTitle"}} />
      {{#if (and (v-get this "title" "isInvalid") (contains "title" showErrorsFor))}}
        <span class="validation-error-message">
          {{v-get this "title" "message"}}
        </span>
      {{/if}}
    </EditableField>
  {{else}}
    {{{this.title}}}
  {{/if}}
</td>
<td class="text-left text-top" colspan="8">
  {{#if (await objective.competency)}}
    {{#if editable}}
      <span class="clickable link" {{action manageCompetency objective}} data-test-competency data-test-manage-competency>
        {{get (await objective.competency) "title"}}
      </span>
    {{else}}
      <span data-test-competency>{{get (await objective.competency) "title"}}</span>
    {{/if}}
    {{#if
      (not-eq
        (get (await objective.competency) "id")
        (get (await objective.competency.domain) "id")
      )
    }}
      <span data-test-domain>({{get (await objective.competency.domain) "title"}})</span>
    {{/if}}
  {{else if editable}}
    <button type="button" {{action manageCompetency objective}}  data-test-manage-competency>
      {{t "general.addNew"}}
    </button>
  {{else}}
    {{t "general.none"}}
  {{/if}}
</td>
<td class="text-left text-top" colspan="8">
  {{#if objective.meshDescriptors.length}}
    <ul>
      {{#each (await objective.meshDescriptors) as |descriptor|}}
        {{#if editable}}
          <li class="clickable link" {{action manageDescriptors objective}} data-test-term>
            {{descriptor.name}}
          </li>
        {{else}}
          <li data-test-term>
            {{descriptor.name}}
          </li>
        {{/if}}
      {{/each}}
    </ul>
  {{else if editable}}
    <button type="button" {{action manageDescriptors objective}}>
      {{t "general.addNew"}}
    </button>
  {{else}}
    {{t "general.none"}}
  {{/if}}
</td>
