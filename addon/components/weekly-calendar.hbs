<section
  class="weekly-calendar"
  data-test-weekly-calendar
>
  <h2 class="week-of-year" data-test-week-of-year>
    <span class="short" data-test-short>
      {{moment-format this.firstDayOfWeek "M/D"}} &mdash;
      {{moment-format this.lastDayOfWeek "M/D"}}
      {{moment-format this.lastDayOfWeek "YYYY"}}
    </span>
    <span class="long" data-test-long>{{t "general.weekOf" date=(moment-format this.firstDayOfWeek "MMMM Do YYYY")}}</span>
  </h2>

  {{#each this.days as |day|}}
    <h3 class="day-name day-{{day.dayOfWeek}}" data-test-day-name>
      <button
        type="button"
        {{on "click" (fn @changeToDayView day.date)}}
        data-test-long
        aria-label={{day.longName}}
      >
        <span class="long">{{day.longName}}</span>
        <span class="short">{{day.shortName}}</span>
      </button>
    </h3>
    <ol class="events day-{{day.dayOfWeek}}">
      {{#each day.events as |event|}}
        <WeeklyCalendarEvent
          @event={{event}}
          @day={{day.dayOfWeek}}
          @allDayEvents={{day.events}}
          @selectEvent={{if event.isMulti (fn @changeToDayView event.startDate) (fn @selectEvent event)}}
        />
      {{/each}}
    </ol>
  {{/each}}

</section>
