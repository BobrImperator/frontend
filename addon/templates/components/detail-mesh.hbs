<div class="detail-mesh-header">
  <div class="title">
    {{#if this.isManaging}}
      <span class="detail-specific-title">
        {{t "general.meshManageTitle"}}
      </span>
    {{else}}
      {{t "general.mesh"}} ({{this.terms.length}})
    {{/if}}
  </div>
  <div class="actions">
    {{#if this.isManaging}}
      <button class="bigadd" {{action "save"}}>
        <FaIcon @icon="check" />
      </button>
      <button class="bigcancel" {{action "cancel"}}>
        <FaIcon @icon="undo" />
      </button>
    {{else if this.editable}}
      <button {{action "manage"}}>
        {{t "general.meshManageTitle"}}
      </button>
    {{/if}}
  </div>
</div>
<div class="content">
  {{#if this.isManaging}}
    <MeshManager
      @editable={{this.editable}}
      @terms={{this.bufferTerms}}
      @add={{action "addTermToBuffer"}}
      @remove={{action "removeTermFromBuffer"}}
    />
  {{else}}
    <ul class="selected-mesh-terms">
      {{#each this.sortedTerms as |term|}}
        <li>
          <span class="term-title">
            {{term.name}}
          </span>
          <span class="term-details">
            {{term.id}}
            {{#if term.deleted}}
              -
              <span class="deprecated">
                ({{t "general.deprecatedAbbreviation"}})
              </span>
            {{else if term.trees}}
              - {{term.trees.lastObject.treeNumber}}
            {{/if}}
          </span>
        </li>
      {{/each}}
    </ul>
  {{/if}}
</div>

