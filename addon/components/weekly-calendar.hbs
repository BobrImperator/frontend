<section
  class="weekly-calendar"
  data-test-weekly-calendar
>
  <h2 class="week-of-year">
    <span class="short">
      {{moment-format this.firstDayOfWeek "M/D"}} &ndash;
      {{moment-format this.lastDayOfWeek "M/D"}}
      {{moment-format this.lastDayOfWeek "YYYY"}}
    </span>
    <span class="long">{{t "general.weekOf" date=(moment-format this.firstDayOfWeek "MMMM Do YYYY")}}</span>
  </h2>
  <div class="calendar" {{did-insert this.scrollToHourBeforeFirstHourWithEvent}}>
    {{#each this.days as |day|}}
      <h3 class="day-name">{{day.longName}}</h3>
      {{#each day.events as |event i|}}
        {{#if event.isMulti}}
          <WeeklyCalendarEvent
            @event={{event}}
            @day={{day.dayOfWeek}}
            @otherDayEvents={{without event day.events}}
            @i={{i}}
            @selectEvent={{fn @changeToDayView event.startDate}}
          />
        {{else}}
          <WeeklyCalendarEvent
            @event={{event}}
            @day={{day.dayOfWeek}}
            @otherDayEvents={{without event day.events}}
            @i={{i}}
            @selectEvent={{fn @selectEvent event}}
          />
        {{/if}}
      {{/each}}
      <div class="day-border day-{{day.dayOfWeek}}" aria-hidden="true"></div>
    {{/each}}
    {{#each this.hours as |hour|}}
      <span aria-hidden="true" class="hour hour-{{hour.hour}}" {{ref this (concat "hour" hour.hour)}}>
        {{hour.name}}
      </span>
      <div class="hour-border hour-{{hour.hour}}" aria-hidden="true"></div>
    {{/each}}
  </div>
  {{#each this.dayNames as |day|}}
    <div class="day-headings" aria-hidden="true">
      <div class="day-heading day-{{day.day}}">
        <button
          type="button"
          class="long "
          {{on "click" (fn @changeToDayView day.date)}}
        >
          {{day.longName}}
        </button>
        <button
          type="button"
          class="short"
          {{on "click" (fn @changeToDayView day.date)}}
        >
          {{day.shortName}}
        </button>
      </div>
    </div>
  {{/each}}

</section>
