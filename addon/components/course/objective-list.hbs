<div
  class="course-objective-list"
  data-test-course-objective-list
  {{did-insert (perform this.load) @course @course.objectives @course.cohorts}}
  {{did-update (perform this.load) @course @course.objectives @course.cohorts}}
>
  {{#if (and (is-array this.objectives) this.isSorting)}}
    <ObjectiveSortManager
      @subject={{@course}}
      @close={{set this.isSorting false}}
    />
  {{/if}}
  {{#if (and (is-array this.objectives) (is-array this.cohortObjectives) (not this.isSorting))}}
    {{#if (gt this.objectives.length 1)}}
      <button
        class="sort-button"
        type="button"
        {{on "click" (set this.isSorting true)}}
        data-test-sort
      >
        {{t "general.sortObjectives"}}
      </button>
    {{/if}}
    {{#if this.objectives.length}}
      <div class="grid-row headers" data-test-headers>
        <span class="grid-item" data-test-header>{{t "general.description"}}</span>
        <span class="grid-item" data-test-header>{{t "general.parentObjectives"}}</span>
        <span class="grid-item" data-test-header>{{t "general.meshTerms"}}</span>
        <span class="actions grid-item" data-test-header>{{t "general.actions"}}</span>
      </div>
      {{#each this.objectives as |objective|}}
        <Course::ObjectiveListItem
          @objective={{objective}}
          @editable={{@editable}}
          @cohortObjectives={{this.cohortObjectives}}
        />
      {{/each}}
    {{/if}}
  {{/if}}
</div>
