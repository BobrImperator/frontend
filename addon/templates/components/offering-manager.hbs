{{#if (and this.isEditing (is-fulfilled this.offering.session.course.cohorts))}}
  <OfferingForm
    @showRoom={{true}}
    @showInstructors={{true}}
    @cohorts={{await this.offering.session.course.cohorts}}
    @courseStartDate={{await this.offering.session.course.startDate}}
    @courseEndDate={{await this.offering.session.course.startDate}}
    @close={{toggle "isEditing" this}}
    @save={{action "save"}}
    @smallGroupMode={{false}}
    @offering={{this.offering}}
    @session={{await this.offering.session}}
  />
{{else}}
  <div class="offering-manager-learner-groups">
    <ul>
      {{#each (await this.offering.learnerGroups) as |learnerGroup|}}
        <li>
          {{learnerGroup.title}}
          {{#if
            (and
              (not learnerGroup.isTopLevelGroup)
              (is-fulfilled learnerGroup.allParents)
            )
          }}
            {{#attach-tooltip lazyRender=true animation="shift"}}
              {{this.join " > " (map-by "title" (await learnerGroup.allParents))}}
            {{/attach-tooltip}}
          {{/if}}
        </li>
      {{else}}
        <li>
          <FaIcon @icon="users" />
        </li>
      {{/each}}
    </ul>
  </div>
  <div class="offering-manager-location">
    {{this.offering.room}}
  </div>
  <div class="offering-manager-instructors">
    <ul>
      {{#each (await this.offering.allInstructors) as |instructor|}}
        <li data-test-instructor>
          {{instructor.fullName}}
        </li>
      {{else}}
        <li>
          <FaIcon @icon="user-plus" />
        </li>
      {{/each}}
    </ul>
  </div>
  {{#if this.editable}}
    <div class="offering-manager-actions">
      <span
        class="clickable edit"
        role="button"
        {{action (toggle "isEditing" this)}}
      >
        <FaIcon @icon="edit" class="enabled" />
      </span>
      {{#if (await this.userCanDelete)}}
        <span class="clickable remove" role="button" {{action "confirmRemove"}}>
          <FaIcon @icon="trash" class="enabled" />
        </span>
      {{else}}
        <FaIcon @icon="trash" class="disabled" />
      {{/if}}
    </div>
  {{/if}}
  {{#if this.showRemoveConfirmation class="vertical"}}
    <div class="confirm-removal">
      <div class="confirm-message">
        {{t
          "general.confirmRemove"
          learnerGroupCount=this.offering.learnerGroups.length
        }}
        <br>
        <div class="confirm-buttons">
          <button class="remove text" {{action "remove"}}>
            {{t "general.yes"}}
          </button>
          <button class="cancel text" {{action "cancelRemove"}}>
            {{t "general.cancel"}}
          </button>
        </div>
      </div>
    </div>
  {{/if}}
{{/if}}
