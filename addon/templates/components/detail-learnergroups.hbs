<div class="detail-learnergroups-header">
  {{! template-lint-disable no-invalid-interactive}}
  <div
    class="title {{if collapsible "collapsible clickable"}}"
    onclick={{if collapsible (action collapse)}}
    role={{if collapsible "button"}}
  >
    {{t "general.learnerGroups"}} ({{subject.learnerGroups.length}})
  </div>
  <div class="actions">
    {{#if isManaging}}
      <button class="bigadd" onclick={{perform save}}>
        <FaIcon
          @icon={{if save.isRunning "spinner" "check"}}
          @spin={{save.isRunning}}
        />
      </button>
      <button class="bigcancel" {{action "cancel"}}>
        <FaIcon @icon="undo" />
      </button>
    {{else if editable}}
      <button {{action setIsManaging true}}>
        {{t "general.learnerGroupsManageTitle"}}
      </button>
    {{/if}}
  </div>
</div>
<div class="detail-learnergroups-content">
  {{#if isManaging}}
    {{#liquid-if loadLearnerGroups.isRunning}}
      <LoadingSpinner />
    {{else}}
      <LearnergroupSelectionManager
        @learnerGroups={{learnerGroups}}
        @cohorts={{cohorts}}
        @add={{action "addLearnerGroup"}}
        @remove={{action "removeLearnerGroup"}}
      />
    {{/liquid-if}}
  {{else}}
    <DetailLearnergroupsList
      @learnerGroups={{await subject.learnerGroups}}
      @remove={{action "removeLearnerGroup"}}
    />
  {{/if}}
</div>

