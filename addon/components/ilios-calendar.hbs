<div class="ilios-calendar">
  <ul class="inline calendar-view-picker">
    <li
      class="clickable highlight {{if this.showIcsFeed "on"}}"
      role="button"
      {{on "click" (toggle "showIcsFeed" this)}}
    >
      <FaIcon @icon="rss-square" />
    </li>
    <li class="clickable link" role="button" {{on "click" (fn @changeView "day")}}>
      {{t "general.day"}}
    </li>
    <li class="clickable link" role="button" {{on "click" (fn @changeView "week")}}>
      {{t "general.week"}}
    </li>
    <li class="clickable link" role="button" {{on "click" (fn @changeView "month")}}>
      {{t "general.month"}}
    </li>
  </ul>
  <ul class="inline calendar-time-picker">
    <li class="clickable link" role="button" {{on "click" (fn this.goBack)}}>
      <FaIcon @icon="backward" />
    </li>
    <li class="clickable link" role="button" {{on "click" (fn this.gotoToday)}}>
      {{t "general.today"}}
    </li>
    <li class="clickable link" role="button" {{on "click" (fn this.goForward)}}>
      <FaIcon @icon="forward" />
    </li>
  </ul>
  <div class="ilios-calendar-calendar">
    {{#if this.showIcsFeed}}
      <IcsFeed
        @url={{@icsFeedUrl}}
        @instructions={{@icsInstructions}}
      />
    {{/if}}
    <h1 class={{unless @isLoadingEvents "loaded"}}>
      <FaIcon @icon="spinner" @spin={{true}} />
      {{t "general.loadingEvents"}}
      ...
    </h1>
    {{#let (component (concat "ilios-calendar-" @selectedView)) as |Calendar|}}
      <Calendar
        @calendarEvents={{this.sortedEvents}}
        @date={{@selectedDate}}
        @selectEvent={{@selectEvent}}
        @changeDate={{@changeDate}}
        @changeView={{@changeView}}
        @areDaysSelectable={{true}}
        @areEventsSelectable={{true}}
      />
    {{/let}}
  </div>
</div>
