{{! template-lint-disable no-invalid-interactive}}
<span
  class={{if selectable "clickable"}}
  onclick={{if selectable (action add learnerGroup)}}
  role={{if selectable "button"}}
>
  {{learnerGroup.title}}
</span>
{{#if learnerGroup.children.length}}
  <ul>
    {{#if (is-fulfilled learnerGroup.children)}}
      {{#each (sort-by "title" (await learnerGroup.children)) as |child|}}
        <LearnergroupTree
          @learnerGroup={{child}}
          @selectedGroups={{selectedGroups}}
          @filter={{filter}}
          @add={{action add}}
        />
      {{/each}}
    {{else}}
      <li>
        <LoadingSpinner />
      </li>
    {{/if}}
  </ul>
{{/if}}

